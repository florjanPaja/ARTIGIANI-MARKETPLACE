<!-- frontend/components/order-row.html -->
<tr data-id="{{id}}">
    <td>{{id}}</td>
    <td>{{date}}</td>
    <td>â‚¬{{total}}</td>
    <td>{{status}}</td>
    <td>
      <button class="btn btn-sm btn-info view-order-btn">Dettagli</button>
    </td>
  </tr>
  
  <script>
    /**
     * Inizializza eventi sul row inserito dinamicamente:
     * - clic su "Dettagli" per aprire la pagina ordine.html
     * @param {jQuery} $row Il tr appena inserito nel DOM
     */
    function initOrderRow($row) {
      $row.find('.view-order-btn').on('click', function() {
        const oid = $row.data('id');
        window.location.href = `/pages/ordine.html?id=${oid}`;
      });
    }
  
    // Se il componente viene incluso tramite .load(), possiamo
    // richiamare initOrderRow su ogni riga appena inserita:
    $(document).on('loadOrderRow', function(e, $row) {
      initOrderRow($row);
    });
  </script>
  